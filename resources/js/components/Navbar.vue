<template>
    <nav class="bg-white shadow mb-6">
        <div class="container mx-auto p-4 flex flex-wrap items-center md:flex-no-wrap">
            <div class="mr-4 md:mr-8">
                <a href="/" class="flex items-center font-medium text-indigo-500">
                    <svg class="fill-current w-10 mr-2" viewBox="0 0 512.0009 512" xmlns="http://www.w3.org/2000/svg"><path d="M369.589844 85.828125c-3.898438-3.910156-10.230469-3.910156-14.140625 0-3.902344 3.902344-3.902344 10.234375 0 14.144531.109375.109375.230469.21875.339843.328125 3.929688 3.582031 10.011719 3.472657 13.800782-.328125 3.722656-3.722656 3.902344-9.640625.53125-13.5625-.160156-.199218-.339844-.390625-.53125-.582031zm0 0"/><path d="M482.753906 29.25c-39-39-102.449218-39-141.449218 0l-78.234376 78.230469c-28.222656 28.226562-36.804687 70.527343-22.390624 107.265625L214.75 240.679688c-36.742188-14.414063-79.042969-5.832032-107.265625 22.390624l-78.238281 78.234376C-9.75 380.300781-9.75 443.753906 29.246094 482.753906c39 38.996094 102.449218 38.996094 141.449218 0l78.234376-78.234375c28.226562-28.226562 36.804687-70.527343 22.390624-107.265625L297.25 271.324219c37.035156 14.527343 79.25 5.625 107.265625-22.394531l78.238281-78.234376C521.75 131.699219 521.75 68.246094 482.753906 29.25zm-247.96875 361.125l-78.234375 78.230469c-31.269531 31.273437-81.882812 31.277343-113.15625 0-31.273437-31.269531-31.277343-81.878907 0-113.15625l78.234375-78.234375c20.425782-20.429688 50.070313-27.988282 77.296875-20.710938l-27.8125 27.8125c-10.675781 1.519532-20.597656 6.441406-28.273437 14.121094l-78.222656 78.230469c-19.523438 19.511719-19.527344 51.203125-.003907 70.714843 19.511719 19.523438 51.203125 19.53125 70.71875.003907l78.234375-78.222657c7.675782-7.679687 12.601563-17.601562 14.117188-28.273437L255.5 313.078125c7.273438 27.226563-.285156 56.867187-20.714844 77.296875zm-77.796875-35.371094c8.027344 8.035156 19.019531 12.355469 30.820313 11.625l-66.625 66.613282c-11.695313 11.703124-30.722656 11.707031-42.425782-.003907-11.699218-11.691406-11.707031-30.71875.003907-42.421875l66.613281-66.625c-.738281 11.886719 3.648438 22.855469 11.613281 30.8125zm54.054688-25.761718l-11.625 11.621093c-7.78125 7.785157-20.464844 7.824219-28.285157-.003906-7.800781-7.789063-7.800781-20.476563.003907-28.277344l141.445312-141.445312c7.78125-7.78125 20.464844-7.824219 28.285157.003906 7.800781 7.792969 7.800781 20.476563-.003907 28.277344zM390.375 234.785156c-20.429688 20.425782-50.070312 27.988282-77.296875 20.710938l27.8125-27.8125c10.667969-1.515625 20.585937-6.4375 28.261719-14.109375.003906-.003907.007812-.007813.007812-.011719l78.222656-78.230469c19.519532-19.507812 19.53125-51.199219.003907-70.714843-16.128907-16.140626-41.125-19.3125-60.785157-7.714844-4.757812 2.804687-6.335937 8.9375-3.53125 13.695312 2.808594 4.757813 8.941407 6.339844 13.695313 3.535156 11.796875-6.960937 26.796875-5.058593 36.476563 4.628907 11.703124 11.695312 11.707031 30.722656 0 42.425781l-66.613282 66.621094c.734375-11.882813-3.648437-22.851563-11.617187-30.8125-7.542969-7.550782-17.585938-11.710938-28.285157-11.710938-.847656 0-1.691406.039063-2.53125.089844l17.113282-17.113281c3.90625-3.90625 3.90625-10.238281 0-14.144531s-10.238282-3.90625-14.144532 0L298.4375 142.839844c-7.679688 7.679687-12.601562 17.601562-14.121094 28.273437l-27.8125 27.8125c-7.277344-27.226562.285156-56.871093 20.710938-77.296875l78.234375-78.234375c31.269531-31.269531 81.882812-31.277343 113.160156 0 31.269531 31.273438 31.273437 81.882813 0 113.160157zm0 0M164.066406 164.0625c3.902344-3.902344 3.902344-10.238281 0-14.144531l-42.4375-42.4375c-3.90625-3.90625-10.242187-3.90625-14.148437 0s-3.90625 10.238281 0 14.144531l42.4375 42.4375c3.90625 3.90625 10.242187 3.910156 14.148437 0zm0 0M53.335938 206.992188c0 5.523437 4.476562 10 10 10h60.011718c5.523438 0 10-4.476563 10-10 0-5.523438-4.476562-10.003907-10-10.003907H63.335938c-5.523438 0-10 4.480469-10 10.003907zm0 0M216.992188 123.347656V63.335938c0-5.523438-4.476563-10.003907-10-10.003907-5.523438 0-10.003907 4.480469-10.003907 10.003907v60.011718c0 5.523438 4.480469 10 10.003907 10 5.523437 0 10-4.476562 10-10zm0 0M347.9375 347.933594c-3.90625 3.90625-3.90625 10.242187 0 14.148437l42.4375 42.4375c3.90625 3.90625 10.238281 3.90625 14.144531 0s3.90625-10.238281 0-14.144531l-42.4375-42.441406c-3.90625-3.902344-10.242187-3.902344-14.144531 0zm0 0M296.007812 388.652344v60.011718c0 5.523438 4.476563 10.003907 10 10.003907 5.527344 0 10.003907-4.480469 10.003907-10.003907v-60.011718c0-5.523438-4.476563-10-10.003907-10-5.523437 0-10 4.476562-10 10zm0 0M458.667969 306.007812c0-5.523437-4.480469-10-10.003907-10H388.65625c-5.527344 0-10.003906 4.476563-10.003906 10 0 5.523438 4.476562 10.003907 10.003906 10.003907h60.007812c5.523438 0 10.003907-4.480469 10.003907-10.003907zm0 0"/></svg>
                    {{ app_name }}
                </a>
            </div>
            <div class="ml-auto md:hidden">
                <button @click="open = !open" class="flex items-center px-3 py-2 border rounded" type="button">
                    <svg class="h-3 w-3" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
                        <title>Menu</title>
                        <path d="M0 3h20v2H0V3zm0 6h20v2H0V9zm0 6h20v2H0v-2z"/>
                    </svg>
                </button>
            </div>
            <div :class="open ? '' : 'hidden'" class="w-full md:w-auto md:flex-grow md:flex md:items-center">
                <ul class="flex flex-col mt-4 -mx-4 pt-4 border-t md:flex-row md:items-center md:mx-0 md:mt-0 md:pt-0 md:mr-4 lg:mr-8 md:border-0">
                    <li>
                        <a :class="route == 'home' ? 'text-purple-600' : ''" class="block px-4 py-1 md:p-2 lg:px-4" href="/">Short URL</a>
                    </li>
                    <li>
                        <a :class="route == 'statistics' ? 'text-purple-600' : ''" class="block px-4 py-1 md:p-2 lg:px-4" href="/statistics">Statistics</a>
                    </li>
                    </ul>
                    <ul class="flex flex-col mt-4 -mx-4 pt-4 border-t md:flex-row md:items-center md:mx-0 md:ml-auto md:mt-0 md:pt-0 md:border-0">
                    <li v-if="user" class="flex items-center font-medium mx-4 md:mx-0">
                        <img :src="user.avatar" :alt="`${user.name}'s avatar`" class="h-8 rounded-full">
                        <span class="mx-2">{{ user.name }}</span>
                        <a href="/logout">
                            <svg class="fill-current w-4 text-red-600" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M0 0h24v24H0V0z" fill="none"/><path d="M17 8l-1.41 1.41L17.17 11H9v2h8.17l-1.58 1.58L17 16l4-4-4-4zM5 5h7V3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h7v-2H5V5z"/></svg>
                        </a>
                    </li>
                    <li v-else>
                        <a href="/login" class="flex items-center mx-4 md:mx-0 px-4 py-2 md:p-2 lg:px-4 bg-gray-200 hover:bg-gray-300 text-gray-600 font-medium rounded-lg">
                            <svg class="fill-current w-6 mr-2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M113.47 309.408L95.648 375.94l-65.139 1.378C11.042 341.211 0 299.9 0 256c0-42.451 10.324-82.483 28.624-117.732h.014L86.63 148.9l25.404 57.644c-5.317 15.501-8.215 32.141-8.215 49.456.002 18.792 3.406 36.797 9.651 53.408z" fill="#fbbb00"/><path d="M507.527 208.176C510.467 223.662 512 239.655 512 256c0 18.328-1.927 36.206-5.598 53.451-12.462 58.683-45.025 109.925-90.134 146.187l-.014-.014-73.044-3.727-10.338-64.535c29.932-17.554 53.324-45.025 65.646-77.911h-136.89V208.176h245.899z" fill="#518ef8"/><path d="M416.253 455.624l.014.014C372.396 490.901 316.666 512 256 512c-97.491 0-182.252-54.491-225.491-134.681l82.961-67.91c21.619 57.698 77.278 98.771 142.53 98.771 28.047 0 54.323-7.582 76.87-20.818l83.383 68.262z" fill="#28b446"/><path d="M419.404 58.936l-82.933 67.896C313.136 112.246 285.552 103.82 256 103.82c-66.729 0-123.429 42.957-143.965 102.724l-83.397-68.276h-.014C71.23 56.123 157.06 0 256 0c62.115 0 119.068 22.126 163.404 58.936z" fill="#f14336"/></svg>
                            Login with google
                        </a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
</template>

<script>
export default {
    data() {
        return {
            open: false,
            user: null
        }
    },
    props: {
        app_name: null,
        user_fetched: null,
        route: null
    },
    mounted() {
        this.user = JSON.parse(this.user_fetched)
    }
}
</script>
